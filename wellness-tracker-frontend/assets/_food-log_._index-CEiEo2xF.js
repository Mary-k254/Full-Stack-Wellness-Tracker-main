import{r as e}from"./rolldown-runtime-DSkE_rus.js";import{t}from"./react-DPxKwFV0.js";import{A as n,r}from"./chunk-NISHYRIK-BOFqlSSj.js";import{d as i,i as a,o}from"./createLucideIcon-BHwLALIJ.js";import"./reflex-env-BhdsrCF8.js";import{n as s}from"./emotion-react.browser.esm-DfyT-3QG.js";import"./react-is-DeukDdHT.js";import{t as c}from"./smile-plus-DuTx9iDW.js";var l=e(t());function u(){let[e,t]=(0,l.useContext)(a);return s(`button`,{className:`ml-4 px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors`,onClick:(0,l.useCallback)(t=>e([i(`reflex___state____state.app___states___auth_state____auth_state.logout`,{},{})],[t],{}),[e,i])},`Log Out`)}function d(){return s(l.Fragment,{},(0,l.useContext)(o.reflex___state____state__app___states___auth_state____auth_state).is_authenticated_rx_state_?s(l.Fragment,{},s(`div`,{className:`hidden md:flex items-center gap-6`},s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/dashboard`},`Dashboard`),s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/mood-tracker`},`Mood Tracker`),s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/journal`},`Journal`),s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/food-log`},`Food Log`),s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/profile`},`Profile`),s(u,{}))):s(l.Fragment,{}))}function f(){let e=(0,l.useContext)(o.reflex___state____state__app___states___food_state____food_state),[t,n]=(0,l.useContext)(a);return s(`select`,{className:`w-full p-3 rounded-lg bg-gray-50 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all`,onChange:(0,l.useCallback)(e=>t([i(`reflex___state____state.app___states___food_state____food_state.set_manual_food_selection`,{value:e?.target?.value},{})],[e],{}),[t,i]),value:e.manual_food_selection_rx_state_},s(`option`,{disabled:!0,value:``},`Select a food...`),Array.prototype.map.call(e.food_db_options_rx_state_??[],(e,t)=>s(`option`,{key:t,value:e},(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())(e))))}function p(){let[e,t]=(0,l.useContext)(a);return s(`button`,{className:`w-full mt-4 py-3 text-white font-semibold rounded-lg bg-purple-600 hover:bg-purple-700 transition-all`,onClick:(0,l.useCallback)(t=>e([i(`reflex___state____state.app___states___food_state____food_state.add_food_manual`,{},{})],[t],{}),[e,i])},`Add Food`)}function m(){let e=(0,l.useContext)(o.reflex___state____state__app___states___food_state____food_state),[t,n]=(0,l.useContext)(a),r=(0,l.useCallback)(e=>t([i(`reflex___state____state.app___states___food_state____food_state.set_free_text_input`,{value:e?.target?.value},{})],[e],{}),[t,i]);return s(`textarea`,{className:`w-full h-24 p-3 rounded-lg bg-gray-50 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all resize-none`,defaultValue:e.free_text_input_rx_state_,onChange:r,placeholder:`e.g., I had ugali with sukuma wiki and beef for lunch.`})}function h(){let[e,t]=(0,l.useContext)(a);return s(`button`,{className:`w-full mt-4 py-2 text-purple-700 font-semibold rounded-lg bg-purple-100 hover:bg-purple-200 transition-all`,onClick:(0,l.useCallback)(t=>e([i(`reflex___state____state.app___states___food_state____food_state.preview_extracted_foods`,{},{})],[t],{}),[e,i])},`Preview Foods`)}function g(){let e=(0,l.useContext)(o.reflex___state____state__app___states___food_state____food_state);return s(`div`,{className:`flex flex-wrap gap-2`},Array.prototype.map.call(e.extracted_foods_preview_rx_state_??[],(e,t)=>s(`span`,{className:`px-3 py-1 text-sm font-medium text-white bg-purple-500 rounded-full`,key:t},(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())(e))))}function _(){let[e,t]=(0,l.useContext)(a);return s(`button`,{className:`w-full mt-4 py-3 text-white font-semibold rounded-lg bg-purple-600 hover:bg-purple-700 transition-all`,onClick:(0,l.useCallback)(t=>e([i(`reflex___state____state.app___states___food_state____food_state.add_extracted_foods`,{},{})],[t],{}),[e,i])},`Add Detected Foods`)}function v(){return s(l.Fragment,{},(0,l.useContext)(o.reflex___state____state__app___states___food_state____food_state).extracted_foods_preview_rx_state_.length>0?s(l.Fragment,{},s(`div`,{className:`mt-4`},s(`p`,{className:`text-sm font-medium text-gray-700 mt-4 mb-2`},`Detected foods:`),s(g,{}),s(_,{}))):s(l.Fragment,{}))}function y(){let e=(0,l.useContext)(o.reflex___state____state__app___states___food_state____food_state);return s(`div`,{className:`bg-white rounded-xl border border-gray-200 shadow-sm`},Array.prototype.map.call(e.food_log_entries_rx_state_??[],(e,t)=>s(`div`,{className:`flex justify-between items-center p-4 border-b border-gray-200`,key:t},s(`div`,{},s(`p`,{className:`font-semibold text-gray-800`},(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())(e?.food_name)),s(`span`,{className:(()=>{switch(JSON.stringify(e?.category)){case JSON.stringify(`african`):return`px-2 py-1 text-xs font-medium text-purple-700 bg-purple-100 rounded-full`;case JSON.stringify(`grains`):return`px-2 py-1 text-xs font-medium text-yellow-700 bg-yellow-100 rounded-full`;case JSON.stringify(`proteins`):return`px-2 py-1 text-xs font-medium text-red-700 bg-red-100 rounded-full`;case JSON.stringify(`dairy`):return`px-2 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-full`;case JSON.stringify(`vegetables`):return`px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full`;case JSON.stringify(`fruits`):return`px-2 py-1 text-xs font-medium text-orange-700 bg-orange-100 rounded-full`;case JSON.stringify(`beverages`):return`px-2 py-1 text-xs font-medium text-cyan-700 bg-cyan-100 rounded-full`;case JSON.stringify(`snacks`):return`px-2 py-1 text-xs font-medium text-pink-700 bg-pink-100 rounded-full`;default:return`px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-full`}})()},(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())(e?.category))),s(`div`,{className:`flex gap-2 items-center`},s(`p`,{className:`text-sm text-gray-500`},e?.date),s(`p`,{className:`text-sm text-gray-500`},e?.timestamp)))))}function b(){return s(l.Fragment,{},(0,l.useContext)(o.reflex___state____state__app___states___food_state____food_state).food_log_entries_rx_state_.length>0?s(l.Fragment,{},s(y,{})):s(l.Fragment,{},s(`p`,{className:`text-gray-500`},`No food logged yet. Add your first meal above!`)))}function x(){(0,l.useEffect)(()=>(((...t)=>e([i(`_redirect`,{path:`/`,external:!1,popup:!1,replace:!1},{})],t,{}))(),()=>{}),[]);let[e,t]=(0,l.useContext)(a);return s(`div`,{})}function S(){return s(l.Fragment,{},(0,l.useContext)(o.reflex___state____state__app___states___auth_state____auth_state).is_authenticated_rx_state_?s(l.Fragment,{},s(`div`,{className:`min-h-screen bg-gray-50 flex flex-col font-['Inter']`},s(`header`,{className:`py-4 px-6 bg-white/80 backdrop-blur-sm border-b border-gray-100 sticky top-0 z-50`},s(`div`,{className:`container mx-auto flex justify-between items-center`},s(r,{to:`/`},s(`div`,{className:`flex items-center gap-2`},s(c,{className:`h-8 w-8 text-purple-600`}),s(`span`,{className:`text-xl font-bold text-gray-800`},`MoodBite`))),s(d,{}))),s(`main`,{className:`flex-grow`},s(`div`,{className:`container mx-auto py-8 px-6 max-w-4xl`},s(`h1`,{className:`text-3xl font-bold text-gray-900 mb-8`},`Food Log`),s(`div`,{className:`grid md:grid-cols-2 gap-8`},s(`div`,{className:`p-6 bg-white rounded-xl border border-gray-200 shadow-sm`},s(`h3`,{className:`text-lg font-semibold text-gray-800`},`Quick Add`),s(`p`,{className:`text-sm text-gray-500 mb-4`},`Select a food item from the database.`),s(f,{}),s(p,{})),s(`div`,{className:`p-6 bg-white rounded-xl border border-gray-200 shadow-sm`},s(`h3`,{className:`text-lg font-semibold text-gray-800`},`Free Text Entry`),s(`p`,{className:`text-sm text-gray-500 mb-4`},`Describe your meal, and we'll find the food items.`),s(m,{}),s(h,{}),s(v,{}))),s(`div`,{},s(`h2`,{className:`text-2xl font-bold text-gray-900 mt-12 mb-4`},`Food Log History`),s(b,{})))))):s(l.Fragment,{},s(x,{})))}var C=n(function(){return s(l.Fragment,{},s(S,{}),s(`title`,{},`App | Food-Log`),s(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{C as default};