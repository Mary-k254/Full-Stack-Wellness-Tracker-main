import{r as e}from"./rolldown-runtime-DSkE_rus.js";import{t}from"./react-DPxKwFV0.js";import{A as n,r}from"./chunk-NISHYRIK-BOFqlSSj.js";import{d as i,i as a,o}from"./createLucideIcon-BHwLALIJ.js";import"./reflex-env-BhdsrCF8.js";import{n as s}from"./emotion-react.browser.esm-DfyT-3QG.js";import"./react-is-DeukDdHT.js";import{t as c}from"./smile-plus-DuTx9iDW.js";var l=e(t());function u(){let[e,t]=(0,l.useContext)(a);return s(`button`,{className:`ml-4 px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors`,onClick:(0,l.useCallback)(t=>e([i(`reflex___state____state.app___states___auth_state____auth_state.logout`,{},{})],[t],{}),[e,i])},`Log Out`)}function d(){return s(l.Fragment,{},(0,l.useContext)(o.reflex___state____state__app___states___auth_state____auth_state).is_authenticated_rx_state_?s(l.Fragment,{},s(`div`,{className:`hidden md:flex items-center gap-6`},s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/dashboard`},`Dashboard`),s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/mood-tracker`},`Mood Tracker`),s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/journal`},`Journal`),s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/food-log`},`Food Log`),s(r,{className:`text-gray-600 hover:text-purple-600 font-medium transition-colors`,to:`/profile`},`Profile`),s(u,{}))):s(l.Fragment,{}))}function f(){let e=(0,l.useContext)(o.reflex___state____state__app___states___journal_state____journal_state),[t,n]=(0,l.useContext)(a),r=(0,l.useCallback)(e=>t([i(`reflex___state____state.app___states___journal_state____journal_state.set_current_journal_text`,{value:e?.target?.value},{})],[e],{}),[t,i]);return s(`textarea`,{className:`w-full h-48 p-4 rounded-lg bg-gray-50 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none`,defaultValue:e.current_journal_text_rx_state_,maxLength:500,onChange:r,placeholder:`How was your day?`})}function p(){return s(`span`,{},(0,l.useContext)(o.reflex___state____state__app___states___journal_state____journal_state).sentiment_analysis_rx_state_?.emoji)}function m(){return s(`span`,{className:`font-medium`},(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())((0,l.useContext)(o.reflex___state____state__app___states___journal_state____journal_state).sentiment_analysis_rx_state_?.label))}function h(){let e=(0,l.useContext)(o.reflex___state____state__app___states___journal_state____journal_state);return s(`span`,{},`(`+JSON.stringify(e.sentiment_analysis_rx_state_?.polarity)+`)`)}function g(){return s(`p`,{className:`text-sm text-gray-500`},(0,l.useContext)(o.reflex___state____state__app___states___journal_state____journal_state).current_journal_text_rx_state_.split(``).length+`/500`)}function _(){let[e,t]=(0,l.useContext)(a);return s(`button`,{className:`w-full mt-4 py-3 px-4 text-white font-semibold rounded-lg bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all`,onClick:(0,l.useCallback)(t=>e([i(`reflex___state____state.app___states___journal_state____journal_state.save_journal_entry`,{},{})],[t],{}),[e,i])},`Save Entry`)}function v(){let e=(0,l.useContext)(o.reflex___state____state__app___states___journal_state____journal_state);return s(`div`,{className:`bg-white rounded-xl border border-gray-200 shadow-sm`},Array.prototype.map.call(e.journal_entries_rx_state_??[],(e,t)=>s(`details`,{className:`p-4 border-b border-gray-200`,key:t},s(`summary`,{className:`flex items-center w-full cursor-pointer`},s(`div`,{},s(`p`,{className:`font-semibold text-gray-800`},e?.date),s(`p`,{className:`text-sm text-gray-500`},e?.timestamp),s(`span`,{className:(()=>{switch(JSON.stringify(e?.sentiment_label)){case JSON.stringify(`POSITIVE`):return`ml-auto px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full`;case JSON.stringify(`NEGATIVE`):return`ml-auto px-2 py-1 text-xs font-medium text-red-700 bg-red-100 rounded-full`;case JSON.stringify(`NEUTRAL`):return`ml-auto px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-full`;default:return`px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-full`}})()},e?.sentiment_label))),s(`p`,{className:`mt-4 text-gray-700 leading-relaxed whitespace-pre-wrap`},e?.text))))}function y(){return s(l.Fragment,{},(0,l.useContext)(o.reflex___state____state__app___states___journal_state____journal_state).journal_entries_rx_state_.length>0?s(l.Fragment,{},s(v,{})):s(l.Fragment,{},s(`p`,{className:`text-gray-500`},`No journal entries yet. Write your first one above!`)))}function b(){(0,l.useEffect)(()=>(((...t)=>e([i(`_redirect`,{path:`/`,external:!1,popup:!1,replace:!1},{})],t,{}))(),()=>{}),[]);let[e,t]=(0,l.useContext)(a);return s(`div`,{})}function x(){return s(l.Fragment,{},(0,l.useContext)(o.reflex___state____state__app___states___auth_state____auth_state).is_authenticated_rx_state_?s(l.Fragment,{},s(`div`,{className:`min-h-screen bg-gray-50 flex flex-col font-['Inter']`},s(`header`,{className:`py-4 px-6 bg-white/80 backdrop-blur-sm border-b border-gray-100 sticky top-0 z-50`},s(`div`,{className:`container mx-auto flex justify-between items-center`},s(r,{to:`/`},s(`div`,{className:`flex items-center gap-2`},s(c,{className:`h-8 w-8 text-purple-600`}),s(`span`,{className:`text-xl font-bold text-gray-800`},`MoodBite`))),s(d,{}))),s(`main`,{},s(`div`,{className:`container mx-auto py-8 px-6 max-w-3xl`},s(`div`,{className:`bg-white p-8 rounded-xl border border-gray-200 shadow-sm`},s(`h2`,{className:`text-2xl font-bold text-gray-900 mb-4`},`Daily Journal`),s(`div`,{className:`relative`},s(f,{}),s(`div`,{className:`flex justify-between items-center mt-2`},s(`div`,{className:`flex items-center gap-2 text-sm text-gray-600`},s(p,{}),s(m,{}),s(h,{})),s(g,{}))),s(_,{})),s(`div`,{},s(`h2`,{className:`text-2xl font-bold text-gray-900 mb-4 mt-12`},`Past Entries`),s(y,{})))))):s(l.Fragment,{},s(b,{})))}var S=n(function(){return s(l.Fragment,{},s(x,{}),s(`title`,{},`App | Journal`),s(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{S as default};